看起来整个编译过程也没有我想象的那么难,直接用现成的命令就可以构建.


### 初始化子模块（如果之前克隆时没有使用 --recursive）
git submodule update --init --recursive


### 使用快捷方式获取 librime（可选，推荐）
bash ./action-install.sh

### 构建 Squirrel
设置环境变量（根据需要调整）
export ARCHS='arm64'  # 构建通用二进制
export BUILD_UNIVERSAL=1


### 清理构建文件
make clean

### 打包成 .pkg 安装包
make package

### 安装到系统
make install

先构建发布版本
然后安装到系统
相当于：make + 安装步骤

### 构建调试版本并安装
make install-debug

先构建调试版本
然后安装到系统
相当于：make debug + 安装步骤

# 构建调试版本
make debug

构建调试版本（Debug）
不安装到系统
包含调试符号，未优化
体积较大，运行较慢
适合开发调试

### 使用 make 构建
make

构建发布版本（Release）
不安装到系统
优化了性能，体积较小
适合日常使用

### 日常使用
make clean
make
make install

开发调试
make clean
make debug
make install-debug

只构建不安装：
make          # 构建发布版本
make debug    # 构建调试版本


### 7. 安装输入法
sudo installer -pkg package/Squirrel.pkg -target /

### 8. 重启输入法服务
sudo killall -KILL SquirrelInputController
# 然后在系统偏好设置中重新添加鼠须管输入法